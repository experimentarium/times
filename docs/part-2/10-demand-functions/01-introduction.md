# Introduction

As discussed in Chapters 3 and 4 of Part I, in TIMES the standard Demand Function formulation includes only sensitive of the demands to their own prices, modeled through a linearized formulation of the price elasticities. Until TIMES v4.0, only the linearized own-price elasticity formulation was available in the common code. In MARKAL, the corresponding non-linear formulation was also available (see Loulou & al. 2004), and it was therefore subsequently made available in TIMES v4.1 and above, as the first natural generalization of the original demand functions.

When substitution possibilities are to be modeled, demand functions involving Constant Elasticity of Substitution (CES) aggregates are very commonly used in economic models integrating engineering and bio-physical properties. Hence, the possibility to use CES-based demand functions were considered desirable also in TIMES. The non-linear option implemented for modeling CES aggregates is based on the old sketches that were found in the MARKAL GAMS code (but were not active in the code), designed by Dr. Denise Van Regemorter and implemented by Gary Goldstein. Just like under the own-price elasticity option, the calibration of the CES functions is based on the demand projections and the corresponding shadow prices from the solution of a Baseline TIMES run. When defining CES functions, the substitution elasticity between the demands within each CES aggregate is given as an input. The aggregate outputs of the CES functions may then be considered as the final useful demands, with the standard exogenous Baseline projections and own-price elasticities provided for the aggregate demands.

A linearization of the CES demand function formulation has also been implemented, and is available in three different variants. In the lienearized formulation, the CES demand functions can be also subsequently nested further into higher-level CES functions.

All the generalizations presented in this Appendix have been implemented in TIMES v4.1.0. For now, the implementation should be still considered experimental, and therefore any feedback, comments and suggestions from TIMES users concerning the formulation and implementation are welcome.

In this Appendix we provide the input attributes and modeling details associated with the generalized Demand Functions in TIMES. As mentioned above, the implementation of the Demand Functions in TIMES is based on the corresponding formulations originally designed for the MARKAL model generator. The next three sections of the Appendix will address the Sets, Parameters, Variables, and Equations related to the Demand Function options, including the special volume-preserving CES option where the aggreÂ­gate volume of the components of the combined demand remains equal to the (optionally weighted) sum of the component demands also under any substitution taking place.
